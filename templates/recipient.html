<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAPID Relief - Relief Allocation System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/recipient.css') }}">
</head>
<body>
    <!-- Background -->
    <div id="background">
        <img id="background-image" src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?q=80&w=2070&auto=format&fit=crop" alt="Relief assistance background">
        <div id="background-overlay"></div>
        <div id="background-gradient"></div>
    </div>

    <!-- Floating Elements -->
    <div id="floating-elements">
        <div id="float1"></div>
        <div id="float2"></div>
        <div id="float3"></div>
    </div>

    <!-- Header -->
    <header id="main-header">
        <div id="header-container">
            <div id="header-content">
                <div id="logo-section">
                    <div id="logo-icon">
                        <svg id="heart-icon" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <span id="logo-text">RAPID Relief</span>
                    <svg id="sparkles-icon" viewBox="0 0 20 20">
                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                    </svg>
                </div>
                <nav id="main-nav">
                    <button id="nav-form" type="button">Submit Request</button>
                    <button id="nav-status" type="button">Check Status</button>
                    <button id="nav-feedback" type="button">Feedback</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Floating Feedback Button (for mobile and additional access) -->
    <button id="floating-feedback-btn" type="button" title="Give Feedback">
        <svg viewBox="0 0 24 24" stroke="currentColor" fill="none">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
        </svg>
    </button>

    <!-- Success Message -->
    <div id="success-message" class="success-overlay">
        <div class="success-card">
            <div class="success-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            <h3>Request Submitted Successfully!</h3>
            <p>You will receive a confirmation email with your request ID.</p>
            <div class="success-actions">
                <button id="view-status-btn" type="button">View Status</button>
                <button id="close-success-btn" type="button">Close</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Form View -->
        <div id="form-view">
            <!-- Progress Section -->
            <div id="progress-section">
                <div id="progress-header">
                    <h1 id="page-title">Relief Assistance Request</h1>
                    <div id="step-info">
                        <span id="step-indicator">Step 1 of 5</span>
                        <div id="loading-spinner"></div>
                    </div>
                </div>
                <div id="progress-container">
                    <div id="progress-bar">
                        <div id="progress-fill"></div>
                    </div>
                </div>
            </div>

            <!-- Form -->
            <form id="relief-form">
                <!-- Step 1: Personal Information -->
                <div id="step-1" data-step="1">
                    <div class="form-card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <svg class="step-icon" viewBox="0 0 20 20">
                                    <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"></path>
                                </svg>
                                Personal Information
                            </h2>
                            <p class="card-description">Please provide your basic personal information.</p>
                        </div>
                        <div class="card-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="first-name">First Name *</label>
                                    <input type="text" id="first-name" name="firstName" required placeholder="Enter your first name">
                                </div>
                                <div class="form-group">
                                    <label for="last-name">Last Name *</label>
                                    <input type="text" id="last-name" name="lastName" required placeholder="Enter your last name">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="email">Email Address *</label>
                                    <input type="email" id="email" name="email" required placeholder="your.email@example.com">
                                </div>
                                <div class="form-group">
                                    <label for="phone">Phone Number *</label>
                                    <input type="tel" id="phone" name="phone" required placeholder="+880 1712-345678">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="date-of-birth">Date of Birth *</label>
                                <input type="date" id="date-of-birth" name="dateOfBirth" required>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Location -->
                <div id="step-2" data-step="2">
                    <div class="form-card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <svg class="step-icon" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                                </svg>
                                Location Information
                            </h2>
                            <p class="card-description">Please provide your current location details in Bangladesh.</p>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label for="address">Street Address *</label>
                                <input type="text" id="address" name="address" required placeholder="e.g., 23/A Dhanmondi Road, House 15">
                            </div>
                            <div class="form-row form-row-3">
                                <div class="form-group">
                                    <label for="city">City/District *</label>
                                    <input type="text" id="city" name="city" required placeholder="e.g., Dhaka, Chittagong">
                                </div>
                                <div class="form-group">
                                    <label for="division">Division *</label>
                                    <select id="division" name="division" required>
                                        <option value="">Select division</option>
                                        <option value="dhaka">Dhaka Division (ঢাকা বিভাগ)</option>
                                        <option value="chittagong">Chittagong Division (চট্টগ্রাম বিভাগ)</option>
                                        <option value="rajshahi">Rajshahi Division (রাজশাহী বিভাগ)</option>
                                        <option value="khulna">Khulna Division (খুলনা বিভাগ)</option>
                                        <option value="sylhet">Sylhet Division (সিলেট বিভাগ)</option>
                                        <option value="barisal">Barisal Division (বরিশাল বিভাগ)</option>
                                        <option value="rangpur">Rangpur Division (রংপুর বিভাগ)</option>
                                        <option value="mymensingh">Mymensingh Division (ময়মনসিংহ বিভাগ)</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="postal-code">Postal Code *</label>
                                    <input type="text" id="postal-code" name="postalCode" required placeholder="e.g., 1205, 4100">
                                </div>
                            </div>

                            <!-- GPS Coordinates Section -->
                            <div class="gps-section">
                                <div class="gps-header">
                                    <label>GPS Coordinates (Optional)</label>
                                    <button type="button" id="detect-location-btn" class="detect-location-btn">
                                        <svg class="location-icon" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        </svg>
                                        Detect My Location
                                    </button>
                                </div>
                                <p class="gps-description">Providing GPS coordinates helps our teams locate you more accurately for relief delivery.</p>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="latitude">Latitude</label>
                                        <input type="number" id="latitude" name="latitude" step="any" placeholder="e.g., 23.8103" min="-90" max="90">
                                    </div>
                                    <div class="form-group">
                                        <label for="longitude">Longitude</label>
                                        <input type="number" id="longitude" name="longitude" step="any" placeholder="e.g., 90.4125" min="-180" max="180">
                                    </div>
                                </div>
                                <div id="location-status" class="location-status"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Relief Needs -->
                <div id="step-3" data-step="3">
                    <div class="form-card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <svg class="step-icon" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path>
                                </svg>
                                Relief Assistance Needs
                            </h2>
                            <p class="card-description">Select the types of assistance you need and specify amounts.</p>
                        </div>
                        <div class="card-content">
                            <div id="relief-items-container"></div>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Priority & Documents -->
                <div id="step-4" data-step="4">
                    <div class="form-card">
                        <div class="card-header">
                            <h2 class="card-title">
                                <svg class="step-icon" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                                </svg>
                                Priority Level & Supporting Documents
                            </h2>
                            <p class="card-description">Help us understand the urgency and provide supporting documents.</p>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label>Priority Level *</label>
                                <div id="priority-options">
                                    <label class="priority-option">
                                        <input type="radio" name="priorityLevel" value="low">
                                        <div class="priority-content">
                                            <span>Low Priority</span>
                                            <span class="priority-badge priority-low">Can wait 7+ days</span>
                                        </div>
                                    </label>
                                    <label class="priority-option">
                                        <input type="radio" name="priorityLevel" value="medium">
                                        <div class="priority-content">
                                            <span>Medium Priority</span>
                                            <span class="priority-badge priority-medium">Need within 3-7 days</span>
                                        </div>
                                    </label>
                                    <label class="priority-option">
                                        <input type="radio" name="priorityLevel" value="high">
                                        <div class="priority-content">
                                            <span>High Priority</span>
                                            <span class="priority-badge priority-high">Urgent - within 1-3 days</span>
                                        </div>
                                    </label>
                                    <label class="priority-option">
                                        <input type="radio" name="priorityLevel" value="emergency">
                                        <div class="priority-content">
                                            <span>Emergency</span>
                                            <span class="priority-badge priority-emergency">Immediate assistance needed</span>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="priority-message">Priority Message *</label>
                                <textarea id="priority-message" name="priorityMessage" required rows="4" placeholder="Please explain why you need assistance and any urgent circumstances (elderly, medical conditions, children, flood/cyclone damage, etc.)"></textarea>
                            </div>

                            <div class="form-group">
                                <label>Supporting Documents/Images</label>
                                <div id="file-upload-area">
                                    <svg class="upload-icon" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                    </svg>
                                    <div class="upload-text">Upload photos or documents to support your request</div>
                                    <div class="upload-hint">(NID cards, medical reports, damage photos, income documents)</div>
                                    <button type="button" id="file-upload-btn">
                                        <svg class="camera-icon" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        </svg>
                                        Choose Files
                                    </button>
                                </div>
                                <input type="file" id="file-input" multiple accept="image/*,.pdf,.doc,.docx">
                                <div id="uploaded-files"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 5: Review -->
                <div id="step-5" data-step="5">
                    <div class="form-card">
                        <div class="card-header">
                            <h2 class="card-title">Review Your Request</h2>
                            <p class="card-description">Please review all information before submitting your relief request.</p>
                        </div>
                        <div class="card-content">
                            <div id="review-content"></div>
                            <div id="terms-notice">
                                <svg class="warning-icon" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                                </svg>
                                <div>By submitting this request, you confirm that all information provided is accurate and you consent to being contacted by our relief teams.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div id="form-navigation">
                    <button type="button" id="prev-btn">Previous</button>
                    <button type="button" id="next-btn">
                        <span id="next-btn-text">Next</span>
                        <svg id="next-btn-icon" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                        <div id="next-btn-spinner"></div>
                    </button>
                </div>
            </form>
        </div>

        <!-- Status View -->
        <div id="status-view">
            <div id="status-header">
                <h1>Request Status Tracking</h1>
                <button type="button" id="new-request-btn">Submit New Request</button>
            </div>
            <div id="status-container"></div>
        </div>

        <!-- Feedback View (Placeholder for future connection) -->
        <div id="feedback-view">
            <div id="feedback-header">
                <h1>Feedback</h1>
                <button type="button" id="back-to-form-btn">Back to Form</button>
            </div>
            <div id="feedback-content">
                <div class="form-card">
                    <div class="card-header">
                        <h2 class="card-title">
                            <svg class="step-icon" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                            </svg>
                            Share Your Feedback
                        </h2>
                        <p class="card-description">Help us improve our relief allocation system by sharing your thoughts and suggestions.</p>
                    </div>
                    <div class="card-content">
                        <div class="feedback-placeholder">
                            <div class="feedback-icon">
                                <svg viewBox="0 0 24 24" stroke="currentColor" fill="none">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                                </svg>
                            </div>
                            <h3>Feedback Page Coming Soon</h3>
                            <p>This feedback section will be connected to a dedicated feedback page where you can share your experience, rate our services, and provide suggestions for improvement.</p>
                            <div class="feedback-features">
                                <div class="feature">
                                    <span class="feature-icon">⭐</span>
                                    <span>Rate your experience</span>
                                </div>
                                <div class="feature">
                                    <span class="feature-icon">💭</span>
                                    <span>Share detailed feedback</span>
                                </div>
                                <div class="feature">
                                    <span class="feature-icon">💡</span>
                                    <span>Suggest improvements</span>
                                </div>
                                <div class="feature">
                                    <span class="feature-icon">📞</span>
                                    <span>Contact support directly</span>
                                </div>
                            </div>
                            <button type="button" class="placeholder-btn">
                                Coming Soon - Stay Tuned!
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="{{ url_for('static', filename='script/recipient.js') }}"></script>
</body>
</html>